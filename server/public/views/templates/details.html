<div ng-init="vm.rerouteOnRefresh()"></div>

<div ng-include="'views/partials/nav.html'"></div>

<md-content>
    <md-toolbar class="md-toolbar-tools" layout="row">
        <h3 flex>{{vm.userService.selectedLocation.location}}</h3>
        <div layout="row" flex="40">
            <span flex>{{vm.userService.datePie.date.date}}</span>
            <span flex> <strong>Sunrise:</strong> {{vm.userService.datePie.date.sunrise}}</span>
            <span flex><strong>Sunset:</strong> {{vm.userService.datePie.date.sunset}}</span>
        </div>      
    </md-toolbar>


    <md-label for="choose-date">Select a date:</md-label>
    <md-datepicker id="choose-date" ng-model="vm.userService.selectedDate.date" ng-change="vm.bakeDatePie()" md-placeholder="Enter date"
        md-min-date="vm.minDate" md-max-date="vm.today"></md-datepicker>
    <md-button ng-click="vm.prevDay()"> previous day </md-button>
    <md-button ng-click="vm.nextDay()"> next day </md-button>
    
</md-content>

<!-- Start time selector buttons -->
<md-content layout="row">
    <md-button class="time-buttons" ng-click="vm.cutTimeSlice(time)" ng-repeat="time in vm.selectedDatesTimes" aria-label="time">
        {{time}} </md-button>
</md-content>
<!-- End time selector buttons -->


   
<md-content layout="row">
    <!-- Start #text-data -->
    <md-content flex="30" layout="column" id="text-data">
    
        <md-card layout flex="30">
            <md-card-content flex="20">
                <h4> {{vm.userService.timeSlice.dt.slice(vm.userService.timeSlice.dt.indexOf(',') + 2)}} </h4>
                <div>
                    <strong>General:</strong>
                    <div ng-repeat="item in vm.userService.timeSlice.weather"> {{item.description}} </div>
                </div>
            </md-card-content>
    
            <md-card-content flex-offset="10" layout-padding>
                <p>
                    <strong>Temperature:</strong> {{vm.userService.timeSlice.main.temp}}&deg;F </p>
                <p>
                    <strong>Pressure:</strong> {{vm.userService.timeSlice.main.pressure}} hPa </p>
                <p>
                    <strong>Humidity:</strong> {{vm.userService.timeSlice.main.humidity}}% </p>
                <p>
                    <strong>Wind Speed:</strong> {{vm.userService.timeSlice.wind.speed}}mph {{vm.userService.timeSlice.wind.deg}} </p>
                <p>
                    <strong>Cloud Cover:</strong> {{vm.userService.timeSlice.clouds.all}}% </p>
                <p>
                    <strong>Visibility:</strong> {{vm.userService.timeSlice.visibility}} miles </p>
            </md-card-content>
        </md-card>
    
    
        <md-card>
            <h3>Notes</h3>
            <p>Make a note about what you did on this day</p>
            <input type="text" ng-model="vm.newComment.comment">
            <button ng-click="vm.submitComment(vm.newComment)">clicky clicky</button>
            <p> {{vm.newComment.comment}} {{vm.newComment.relatedDate}}  </p>
        </md-card>
    
    </md-content>
    <!-- END #text-data -->



    <md-content id="charts" layout="column" >
        <md-card layout="column" flex="70">

            <md-card-content layout="column" flex="50">
                <canvas  id="temp"></canvas>
            </md-card-content>
        
            <md-card-content layout="column" flex="50">
                <canvas  id="pressure"></canvas>
            </md-card-content>
        
            <md-card-content layout="column" flex="50">
                <canvas  id="clouds"></canvas>
            </md-card-content>
        
            <md-card-content layout="column" flex="50">
                <canvas  id="windspeed"></canvas>
            </md-card-content>
        </md-card>
        
        

        <!-- <md-card class="canvas-card" flex-xs="100" flex-sm="80" flex-md="100" flex-lg="45" flex-xl="45">
            <canvas id="temp"></canvas>
        </md-card>

        <md-card class="canvas-card" flex-xs="100" flex-sm="80" flex-md="100" flex-lg="45" flex-xl="45">
            <canvas id="pressure"></canvas>
        </md-card>

        <md-card class="canvas-card" flex-xs="100" flex-sm="80" flex-md="100" flex-lg="45" flex-xl="45">
            <canvas id="clouds"></canvas>
        </md-card>

        <md-card class="canvas-card" flex-xs="100" flex-sm="80" flex-md="100" flex-lg="45" flex-xl="45">
            <canvas id="windspeed"></canvas>
        </md-card> -->
    
    </md-content>

</md-content>
<!-- END row -->



  










